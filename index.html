<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <link rel="stylesheet" href="https://unpkg.com/xterm/css/xterm.css" />
    <script src="https://unpkg.com/xterm/lib/xterm.js"></script>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="stylesheet/index.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=a Atmospheric:wght@400&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap"
    />
  </head>
  <body>
    <div class="main2">
      <div class="desktop-6">
        <div class="navbar1">
          <div class="navbar-child">
            <div class="frame-container">
              <div class="schematics-container">
                <div class="schematics2">AUTO FRS</div>
              </div>
            </div>
          </div>
          <div class="features-container">
            <div class="features1">Features</div>
          </div>
          <div class="features-container">
            <div class="features1">Tentang Kami</div>
          </div>
          <div class="component-7-group">
            <div class="component-71">
              <div class="features1">Masuk</div>
            </div>
            <div class="component-62">
              <div class="features1">Daftar</div>
            </div>
          </div>
        </div>
        <div class="desktop-6-inner">
          <div class="generate-your-frs-schedule-bas-parent">
            <div class="meet-our-team">
              <p class="generate-your-frs1" data-aos="zoom-in" data-aos-duration="1000">generate your frs schedule</p>
              <p class="generate-your-frs1" data-aos="zoom-in" data-aos-duration="1000">based on your priority</p>
            </div>
            <div class="vector-group">
              <img class="frame-inner" alt="" src="vector/Vector 202.png" />

              <div class="project-kelompok" data-aos="zoom-in" data-aos-duration="1000">project kelompok 4 kb-b</div>
              <img class="frame-inner" alt="" src="vector/Vector 202.png" />
            </div>
          </div>
        </div>
      </div>
      <div class="desktop-7">
        <div class="frame-parent">
          <div class="meet-our-team-wrapper">
            <div class="meet-our-team" data-aos="zoom-in" data-aos-duration="1000">meet our team</div>
          </div>
          <div class="frame-group">
            <div class="frame-div" data-aos="zoom-in-down" data-aos-duration="1000">
              <div class="frame-parent1">
                <div class="rectangle-parent">
                  <div class="rectangle-div"></div>
                  <div class="frame-child1"></div>
                  <div class="frame-child2"></div>
                </div>
                <img
                  class="unsplashzz5lqe-vsmy-icon"
                  alt=""
                  src="photo/our team/ucup.png"
                />
              </div>
              <b class="programmer">Algorithm Programmer</b>
              <b class="ghifari-maaliki-syafa">Ghifari Maaliki Syafa Syuhada</b>
            </div>
            <div class="frame-div" data-aos="zoom-in-down" data-aos-duration="1000">
              <div class="frame-parent1">
                <div class="rectangle-parent">
                  <div class="rectangle-div"></div>
                  <div class="frame-child1"></div>
                  <div class="frame-child2"></div>
                </div>
                <div class="wrapper">
                  <img class="icon" alt="" src="photo/our team/870959 1.png" />
                </div>
              </div>
              <b class="programmer">Web/Algorithm Programmer & UI Designer</b>
              <b class="ghifari-maaliki-syafa">Dimas Prihady Setyawan</b>
            </div>
            <div class="frame-div" data-aos="zoom-in-down" data-aos-duration="1000">
              <div class="frame-parent1">
                <div class="rectangle-parent">
                  <div class="rectangle-div"></div>
                  <div class="frame-child1"></div>
                  <div class="frame-child2"></div>
                </div>
                <img
                  class="unsplashzz5lqe-vsmy-icon1"
                  alt=""
                  src="photo/our team/ogix.png"
                />
              </div>
              <b class="programmer">UI Designer</b>
              <b class="ghifari-maaliki-syafa">Widian Sasi Disertasiani</b>
            </div>
          </div>
        </div>
      </div>
      <div class="desktop-8">
        <div class="frame-parent6">
          <div class="about-auto-frs-parent">
            <div class="about-auto-frs" data-aos="zoom-in" data-aos-duration="1000">about auto frs</div>
            <div class="auto-frs-merupakan" data-aos="zoom-in-down" data-aos-duration="1000">
              Auto FRS merupakan suatu program yang didesain untuk memudahkan
              mahasiswa untuk mengambil Matakuliah pilihan. Program ini dibuat
              menggunakan Algortihma CSP dengan metode Backtracking.
            </div>
            <button py-click="main()" id="main" class="py-button" data-aos="zoom-in-down" data-aos-duration="1000">Coba Auto FRS!</button>
          </div>
          <div class="answer-format"  data-aos="zoom-in-down" data-aos-duration="1000">
            <ol>
              <li>Enter Semester:</li>
              <li>Add class preference? (y/n)
                <ul>
                  <li>Enter subject name: </li>
                  <li>Enter subject code: </li>
                </ul>
            </li>
            <li>List output with prioritize class</li>
            </ol>
          </div>
          
          </div>
        </div>
      </div>

      <div class="python">
        <py-config>
            [[fetch]]
            files = ['jadwal22-23.txt']
        </py-config>
  

        <py-script>
          import time

          class Subject:
              def __init__(self, attribute_array):
                  self.name = attribute_array[0]
                  self.subject_code = attribute_array[1]
                  self.semester = attribute_array[2]
                  self.sks = int (attribute_array[3])
                  self.day = attribute_array[4]
                  self.start_hour = attribute_array[5]
                  self.end_hour = attribute_array[6]
                  self.class_name = attribute_array[7]
                  self.lecturer = attribute_array[8]
                  self.status = attribute_array[9]
          
          class Backtracking:
              def __init__(self, input_file, user_semester):
                  self.subject_arr = []
                  self.schedule_set = set()
                  self.intervals = []
                  self.path = []
                  self.results = []
                  self.sks_total = 0
          
                  # User inputs
                  self.user_semester = user_semester
          
                  for line in input_file:
                      self.attribute_array = line.split()
                      if '-' in self.attribute_array:
                          continue
                      self.subject = Subject(self.attribute_array)
          
                      # Filter semester
                      if int(self.user_semester) == int(self.subject.semester):
                          self.subject_arr.append(self.subject)
              
              def find_combinations(self):
                  self.backtrack()
                  self.printResults()
                  
              def add_subject(self, subject_name, subject_code):
                  a = None
          
                  for temp in self.subject_arr:
                      if temp.name == subject_name and temp.subject_code == subject_code:
                          a = temp
          
                  if a is not None:
                      self.path.append(a)
                      self.intervals.append((a.day, a.start_hour, a.end_hour))
                      self.sks_total += a.sks
          
              def backtrack(self):
                  if self.sks_total > 18:
                      if self.path:
                          self.path = self.path
                          self.path_res = tuple(self.path.copy())
                          self.results.append(self.path_res)
                      return
          
                  for a in self.subject_arr:
                      self.flag = 0
          
                      # Memeriksa apakah mata kuliah sudah diambil atau tidak
                      for subj in self.path:
                          if a.name == subj.name:
                              self.flag = 1
                              break
          
                      # Memeriksa apakah waktu sudah terpakai atau tidak
                      for times in self.intervals:
                          if (a.day == times[0]) and (int(a.start_hour) < int(times[2])) and (int(a.end_hour) > int(times[1])):
                              self.flag = 1
                              break
          
                      # Memeriksa apakah kombinasinya sudah ada atau tidak
                      self.temp = self.path.copy()
                      self.temp.append(a)
                      self.temp.sort(key= lambda x: x.name)
                      self.temp = tuple(self.temp)
                      if self.temp in self.schedule_set:
                          self.flag = 1
          
                      if self.flag == 1:
                          continue
          
                      self.path.append(a)
                      self.intervals.append((a.day, a.start_hour, a.end_hour))
                      self.sks_total += a.sks
                      self.schedule_set.add(self.temp)
          
                      self.backtrack()
          
                      self.path.pop()
                      self.intervals.pop()
                      self.sks_total -= a.sks
          
              def printResults(self):
                  count = 0
                  for a in self.results:
                      for subj in a:
                          display(subj.name, subj.subject_code, subj.day, subj.start_hour, subj.end_hour,target="display-write")
                      display("------------------------", target="display-write")
                      count += 1
                      if count == 30:
                        break
                  display("There are", len(self.results), "combinations", target="display-write")
          
          def main():
              input_file = open('jadwal22-23.txt', 'r')
              user_semester = (input())
          
              start = time.time()
          
              bt = Backtracking(input_file, user_semester)
              input_file.close()
          
              display("\nAvailable subject: ", target="display-subject")
              set_arr = set()
          
              # Prints available subject for the semester
              # Note : Mungkin di webnya dikasih waktunya jg biar keren
              for a in bt.subject_arr:
                  if a.name not in set_arr:
                      display(a.name,target="display-subject")
                  set_arr.add(a.name)
          
              while (input() == "y"):
                  subject_name = input()
                  subject_code = input()
                  bt.add_subject(subject_name, subject_code)
              
          
              bt.find_combinations()
          
              end = time.time()
              total_time = end - start
          
              display("execution time: ", total_time,target="display-write")
          
        </py-script>
        <ol>
        <div id="display-subject"></div>
        <div id="display-write"></div>
      </ol>
      <div class="desktop-9">
        <div class="our-problem">
          <div class="our-problem1" data-aos="zoom-in" data-aos-duration="1000">Our Problem</div>
          <div class="problems-1">
            <div class="problem-1">
              <div class="frame-problem-1" data-aos="zoom-in" data-aos-duration="1000">
                <div class="bg-line-1">
                  <div class="bg-line-1-child"></div>
                  <div class="bg-line-1-item"></div>
                  <div class="bg-line-1-inner"></div>
                </div>
                <img
                  class="content-problem-1"
                  alt=""
                  src="photo/problem/Content Problem 2.png"
                />
              </div>
              <b class="algoritma-program-yang" data-aos="zoom-in" data-aos-duration="1000"
                >Algoritma program yang masih dikembangkan jadi belum efisien</b
              >
            </div>
            <div class="problem-1">
              <div class="frame-problem-1" data-aos="zoom-in" data-aos-duration="1000">
                <div class="bg-line-1">
                  <div class="bg-line-1-child"></div>
                  <div class="bg-line-1-item"></div>
                  <div class="bg-line-1-inner"></div>
                </div>
                <img
                  class="content-problem-1"
                  alt=""
                  src="photo/problem/Content Problem 1.png"
                />
              </div>
              <b class="algoritma-program-yang" data-aos="zoom-in" data-aos-duration="1000"
                >Tech-Stack yang digunakan masih terbatas</b
              >
            </div>
            <div class="problem-1">
              <div class="frame-problem-1" data-aos="zoom-in" data-aos-duration="1000">
                <div class="bg-line-1">
                  <div class="bg-line-1-child"></div>
                  <div class="bg-line-1-item"></div>
                  <div class="bg-line-1-inner"></div>
                </div>
                <img
                  class="content-problem-1"
                  alt=""
                  src="photo/problem/Content Problem 3.png"
                />
              </div>
              <b class="algoritma-program-yang" data-aos="zoom-in" data-aos-duration="1000"
                >Output memiliki banyak sekali kombinasi yang tidak bisa ditampilkan semua</b
              >
            </div>
          </div>
        </div>
      </div>

      <div class="desktop-10">
        <div class="contact-frame">
          <div class="content-frame">
            <div class="contact-message">
              <div class="contact-title">
                <div class="contact-person" data-aos="zoom-in" data-aos-duration="1000">Contact person</div>
              </div>
              <div class="contact-message1">
                <div class="ada-masalah-hubungi" data-aos="zoom-in" data-aos-duration="1000">
                  Ada masalah? hubungi contact person kami!
                </div>
              </div>
            </div>
            <div class="contact-button" data-aos="zoom-in" data-aos-duration="1000">
              <div class="contact-button-1">
                <img
                  class="iconoutlinephone"
                  alt=""
                  src="photo/logo/phone.png"
                />
  
                <div class="text-icon">081317491256 (Awan)</div>
              </div>
              <div class="contact-button-2" data-aos="zoom-in" data-aos-duration="1000">
                <img
                  class="iconoutlinephone"
                  alt=""
                  src="photo/logo/phone.png"
                />
  
                <div class="text-icon">+6281317491256 (Dimas)</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">
        <div class="main-footer">
          <div class="footer-autofrs">
            <div class="schematics-container">
              <div class="auto-frs">AUTO FRS</div>
            </div>
            <div class="westheimer-rd-santa-container">
              <p class="westheimer-rd-santa">

              </p>
              <p class="westheimer-rd-santa"></p>
            </div>
          </div>
          <div class="footer-button-1">
            <div class="about-us">Features</div>
          </div>
          <div class="footer-button-1">
            <div class="about-us">About Us</div>
          </div>
        </div>
        <img class="line-icon" alt="" src="photo/logo/Line.png" />
  
        <div class="copyright">
          <div class="auto-frs">© AUTO FRS</div>
          <div class="footer-social-media">
            <div class="twitter-logo">
              <img
                class="bxl-twitter-1-icon"
                alt=""
                src="photo/socmed/bxl-twitter 1.png"
              />
            </div>
            <div class="twitter-logo">
              <img
                class="bxl-twitter-1-icon"
                alt=""
                src="photo/socmed/bxl-instagram-alt 1.png"
              />
            </div>
            <div class="twitter-logo">
              <img
                class="bxl-twitter-1-icon"
                alt=""
                src="photo/socmed/bxl-youtube 1.png"
              />
            </div>
            <div class="twitter-logo">
              <img
                class="bxl-linkedin-1-icon"
                alt=""
                src="photo/socmed/bxl-linkedin 1.png"
              />
            </div>
            <div class="twitter-logo">
              <img
                class="bxl-linkedin-1-icon"
                alt=""
                src="photo/socmed/bxl-tiktok 1.png"
              />
            </div>
            <div class="twitter-logo">
              <img class="bxl-twitter-1-icon" alt="" src="photo/socmed/cib_line.png" />
            </div>
          </div>
        </div>
      </div>

      <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    </div>

  </body>
</html>
